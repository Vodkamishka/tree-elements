(this["webpackJsonptree-elements"]=this["webpackJsonptree-elements"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(37)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),i=(a(20),a(21),a(1)),s=a(3),o=(a(22),a(23),a(2)),u=function(e){var t=e.setClosedFolder,a=e.id,n=e.folders,r=n.filter((function(e){return e.id===a}))[0],l=n.filter((function(e){return e.id!==a}));return c.a.createElement("img",{src:r&&r.open?"images/opened.png":"images/closed.png",alt:"folder",className:"node__folder",onClick:function(){t([].concat(Object(o.a)(l),[Object(i.a)(Object(i.a)({},r),{},{open:!r.open})]))}})},d=function e(t){var a=t.parent,r=t.data,l=t.setSelectedElement,o=t.selectedElement,d=r.filter((function(e){return e.parent===a})),m=Object(n.useState)(d.map((function(e){return{id:e.id,open:!0}}))),b=Object(s.a)(m,2),E=b[0],p=b[1];return Object(n.useEffect)((function(){p(d.map((function(e){return{id:e.id,open:!0}})))}),[r]),c.a.createElement("ul",{className:"node"},d.map((function(t){var a=E.filter((function(e){return e.id===t.id}))[0];return console.log("folders",E),console.log("folder",a),c.a.createElement("li",{className:"node__li",key:t.id},c.a.createElement("div",{className:"node__wrapper"},c.a.createElement(u,{setClosedFolder:p,id:t.id,folders:E}),c.a.createElement("div",{className:o.id===t.id?"node__attributes node__atributes_selected":"node__attributes",onClick:function(e){e.stopPropagation();var a=e.nativeEvent.x-10,n=e.nativeEvent.y-10;l(Object(i.a)(Object(i.a)({},o),{},{id:t.id,x:a,y:n,tempId:t.id,showMenu:!0,showEditMenu:!1,showAttributes:!1}))}},t.attributes.map((function(e,t){var a=Object.keys(e),n=Object.values(e);return c.a.createElement("div",{key:t},"".concat(a,": ").concat(n))})))),a&&a.open&&c.a.createElement(e,{parent:t.id,data:r,setSelectedElement:l,selectedElement:o}))})))},m=(a(24),a(25),function(e){var t=e.selectedElement,a=e.cutNode,n=e.cut,r=e.pasteNode,l=e.copy,i=e.copyNode;return c.a.createElement("ul",{className:"editMenu__ul"},c.a.createElement("li",{className:"editMenu__li",onClick:function(){i(null),a(t.id)}},"Cut"),c.a.createElement("li",{className:"editMenu__li",onClick:function(){a(null),i(t.id)}},"Copy"),n||l?c.a.createElement("li",{className:"editMenu__li",onClick:function(){r(t.id),a(null)}},"Paste"):null)}),b=(a(26),function(e){var t=e.setModals,a=e.modals;return c.a.createElement("ul",{className:"attributesMenu__ul"},c.a.createElement("li",{className:"attributesMenu__li",onClick:function(){return t(Object(i.a)(Object(i.a)({},a),{},{createAttr:!0}))}},"Create"),c.a.createElement("li",{className:"attributesMenu__li",onClick:function(){return t(Object(i.a)(Object(i.a)({},a),{},{deleteAttr:!0}))}},"Delete"),c.a.createElement("li",{className:"attributesMenu__li",onClick:function(){return t(Object(i.a)(Object(i.a)({},a),{},{editAttr:!0}))}},"Edit"))}),E=function(e){var t=e.selectedElement,a=e.addNode,n=e.data,r=e.deleteNode,l=e.setSelectedElement,s={top:t.y+"px",left:t.x+"px"};return c.a.createElement("div",{className:"menu",style:s},c.a.createElement("ul",{className:"menu__ul"},c.a.createElement("li",{className:"menu__li",onClick:function(){return a(n.length,t.id)},onMouseEnter:function(){return l(Object(i.a)(Object(i.a)({},t),{},{showEditMenu:!1,showAttributes:!1}))}},"Create"),c.a.createElement("li",{className:"menu__li",onMouseEnter:function(){return l(Object(i.a)(Object(i.a)({},t),{},{showEditMenu:!1,showAttributes:!0}))}},"Attributes"),c.a.createElement("li",{className:"menu__li",onClick:function(){return r(t.id)},onMouseEnter:function(){return l(Object(i.a)(Object(i.a)({},t),{},{showEditMenu:!1,showAttributes:!1}))}},"Delete"),c.a.createElement("li",{className:"menu__li",onMouseEnter:function(){return l(Object(i.a)(Object(i.a)({},t),{},{showAttributes:!1,showEditMenu:!0}))}},"Edit")),t.showEditMenu&&c.a.createElement(m,e),t.showAttributes&&c.a.createElement(b,e))},p=a(4),f=(a(27),function(e){var t=e.modals,a=e.setModals,r=e.createAttribute,l=e.selectedElement,o=Object(n.useState)({name:null,value:null}),u=Object(s.a)(o,2),d=u[0],m=u[1],b=function(e,t){m(Object(i.a)(Object(i.a)({},d),{},Object(p.a)({},e,t.target.value)))};return c.a.createElement("div",{className:"modal",tabIndex:"-1"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Create attribute"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{createAttr:!1}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:"input-group flex-nowrap"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"addon-wrapping"},"name")),c.a.createElement("input",{type:"text",className:"form-control","aria-label":"Username","aria-describedby":"addon-wrapping",onChange:function(e){return b("name",e)}})),c.a.createElement("div",{className:"input-group flex-nowrap"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"addon-wrappings"},"value")),c.a.createElement("input",{type:"text",className:"form-control","aria-label":"Username","aria-describedby":"addon-wrapping",onChange:function(e){return b("value",e)}}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{createAttr:!1}))}},"Close"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=d.value,n=d.name;e&&n&&(r(n,e,l.tempId),a(Object(i.a)(Object(i.a)({},t),{},{createAttr:!1})))}},"Create")))))}),O=function(e){var t=e.setModals,a=e.modals,n=e.createRootElem;return c.a.createElement("div",{className:"modal",tabIndex:"-1"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Create root element")),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){n(),t(Object(i.a)(Object(i.a)({},a),{},{rooElement:!1}))}},"Create")))))},j=function(e){var t=e.modals,a=e.setModals,r=e.deleteAttribute,l=e.selectedElement,o=e.data,u=Object(n.useState)(null),d=Object(s.a)(u,2),m=d[0],b=d[1],E=o.filter((function(e){return e.id===l.tempId}))[0].attributes;return c.a.createElement("div",{className:"modal",tabIndex:"-1"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Delete attribute"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{deleteAttr:!1}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"input-group mb-3 ",style:{marginLeft:"20px",width:"460px"}},c.a.createElement("select",{className:"custom-select ",id:"inputGroupSelect02",onChange:function(e){return b(e.target.value)}},c.a.createElement("option",{defaultValue:!0},"Choose..."),E.map((function(e,t){var a=Object.keys(e);return c.a.createElement("option",{value:a,key:t},a)})))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{deleteAttr:!1}))}},"Close"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){null!==m&&(r(l.tempId,m),a(Object(i.a)(Object(i.a)({},t),{},{deleteAttr:!1})))}},"Delete")))))},v=(a(28),function(e){var t=e.modals,a=e.setModals,r=e.editAttributes,l=e.selectedElement,u=e.data.filter((function(e){return e.id===l.tempId}))[0].attributes,d=Object(n.useState)(u),m=Object(s.a)(d,2),b=m[0],E=m[1],f=function(e,t,a){var n="key"===e?t.target.value:Object.keys(b[a]),c="value"===e?t.target.value:Object.values(b[a]);E([].concat(Object(o.a)(b.slice(0,a)),[Object(p.a)({},n,c)],Object(o.a)(b.slice(a+1))))};return c.a.createElement("div",{className:"modal",tabIndex:"-1"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Edit attributes"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{editAttr:!1}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-bodys"},u.map((function(e,t){Object.keys(e),Object.values(e);return c.a.createElement("div",{className:"wrapper__input",key:t},c.a.createElement("div",{className:"input-group flex-nowrap"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"addon-wrapping"},"key")),c.a.createElement("input",{type:"text",className:"form-control",value:Object.keys(b[t]),"aria-describedby":"addon-wrapping",onChange:function(e){return f("key",e,t)}})),c.a.createElement("div",{className:"input-group flex-nowrap"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"addon-wrappings"},"value")),c.a.createElement("input",{type:"text",className:"form-control",value:Object.values(b[t]),"aria-describedby":"addon-wrapping",onChange:function(e){return f("value",e,t)}})))}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return a(Object(i.a)(Object(i.a)({},t),{},{editAttr:!1}))}},"Close"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){b.forEach((function(e){var n=Object.keys(e)[0],c=Object.values(e)[0];n&&c&&(r(l.tempId,b),a(Object(i.a)(Object(i.a)({},t),{},{editAttr:!1})))}))}},"Edit")))))}),N=function(e){var t=Object(n.useState)({id:null,x:null,y:null,tempId:null,showMenu:!1,showEditMenu:!1,showAttributes:!1}),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({createAttr:!1,rootElement:!1,deleteAttr:!1,editAttr:!1}),u=Object(s.a)(o,2),m=u[0],b=u[1];return c.a.createElement("div",{className:"interface-tree",onClick:function(){l(Object(i.a)(Object(i.a)({},r),{},{id:null,x:null,y:null,showMenu:!1,showEditMenu:!1,showAttributes:!1}))}},c.a.createElement(d,{data:e.data,parent:null,setSelectedElement:l,selectedElement:r}),r.showMenu&&c.a.createElement(E,Object.assign({selectedElement:r,setSelectedElement:l,setModals:b,modals:m},e)),m.createAttr&&c.a.createElement(f,Object.assign({setModals:b,modals:m,selectedElement:r},e)),0===e.data.length&&c.a.createElement(O,Object.assign({setModals:b,modals:m},e)),m.deleteAttr&&c.a.createElement(j,Object.assign({setModals:b,modals:m,selectedElement:r},e)),m.editAttr&&c.a.createElement(v,Object.assign({setModals:b,modals:m,selectedElement:r},e)))},y=(a(29),a(30),function(e){var t=e.values;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"attributes: ["),t.map((function(e,t){var a=Object.keys(e),n=Object.values(e);return c.a.createElement("div",{className:"attributes",key:t},c.a.createElement("div",{className:"attributes__scope"},"{"),c.a.createElement("div",{className:"attributes__values"},"".concat(a,': "').concat(n,'",')),c.a.createElement("div",{className:"interface-json__scope"},"}"))})),c.a.createElement("div",null,"]"))}),_=function(e){var t=e.data,a=e.cut,n=e.copy;return c.a.createElement("div",{className:"interface-json"},c.a.createElement("div",null,"{"),c.a.createElement("div",{className:"interface-json__data"},c.a.createElement("div",{className:"interface-json__key"},"cut: "),c.a.createElement("div",{className:"interface-json__value"}," ".concat(a))),c.a.createElement("div",{className:"interface-json__data"},c.a.createElement("div",{className:"interface-json__key"},"copy: "),c.a.createElement("div",{className:"interface-json__value"}," ".concat(n))),c.a.createElement("div",{className:"interface-json__json"},c.a.createElement("div",{className:"interface-json__key"},"data: ["),c.a.createElement("div",{className:"interface-json__value"},t.map((function(e,t){var a=Object.keys(e),n=Object.values(e);return c.a.createElement("div",{className:"interface-json__node",key:t},c.a.createElement("div",null,"{"),c.a.createElement("div",{className:"interface-json__params"},a.map((function(e,t){return c.a.createElement("div",{key:t},"attributes"!==a[t]?"".concat(e,": ").concat(n[t],","):null,"attributes"===a[t]?c.a.createElement(y,{values:n[t]}):null)}))),c.a.createElement("div",null,"}",","))})))),c.a.createElement("div",{className:"interface-json__data"},"]"),c.a.createElement("div",null,"}"))},g=a(9);var C={addNode:function(e,t){return{type:"ADD_NODE",payload:{id:e,parentId:t}}},deleteNode:function(e){return{type:"DELETE_NODE",payload:e}},cutNode:function(e){return{type:"CUT_NODE",payload:e}},pasteNode:function(e){return{type:"PASTE_NODE",payload:e}},copyNode:function(e){return{type:"COPY_NODE",payload:e}},createAttribute:function(e,t,a){return{type:"CREATE_ATTRIBUTE",payload:{name:e,value:t,id:a}}},createRootElem:function(){return{type:"CREATE_ROOT"}},deleteAttribute:function(e,t){return{type:"DELETE_ATTRIBUTE",payload:{id:e,key:t}}},editAttributes:function(e,t){return{type:"EDIT_ATTRIBUTES",payload:{id:e,attributes:t}}}},h=Object(g.b)((function(e){return{data:e.data,cut:e.cut,copy:e.copy}}),C)((function(e){return c.a.createElement("div",{className:"app"},c.a.createElement(N,e),c.a.createElement(_,e))})),k=a(8),A={cut:null,copy:null,data:[{id:0,parent:null,attributes:[{name:"\u0424\u043b\u043e\u0440\u0430 \u0438 \u0444\u0430\u0443\u043d\u0430"}]},{id:1,parent:0,attributes:[{name:"\u0420\u044b\u0431\u044b"}]},{id:2,parent:1,attributes:[{name:"\u0444\u043e\u0440\u0435\u043b\u044c"}]},{id:3,parent:1,attributes:[{name:"\u043b\u043e\u0441\u043e\u0441\u044c"}]},{id:4,parent:0,attributes:[{name:"\u0414\u0435\u0440\u0435\u0432\u044c\u044f"}]},{id:5,parent:4,attributes:[{name:"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0435"}]},{id:6,parent:5,attributes:[{name:"\u0441\u0435\u043a\u0432\u043e\u0439\u044f"}]},{id:7,parent:5,attributes:[{name:"\u0434\u0443\u0431"}]},{id:8,parent:4,attributes:[{name:"\u0426\u0432\u0435\u0442\u043a\u043e\u0432\u044b\u0435"}]},{id:9,parent:8,attributes:[{name:"\u044f\u0431\u043b\u043e\u043d\u044f"}]},{id:10,parent:8,attributes:[{name:"\u0433\u0440\u0443\u0448\u0430"}]}]},w=function e(t,a){var n,c=a.filter((function(e){return e.parent===t}));return n=a.filter((function(e){return e.id!==t})),c.forEach((function(t){n=e(t.id,n)})),n},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE":var a={id:t.payload.id,parent:t.payload.parentId,attributes:[{name:"New node "}]},n=[].concat(Object(o.a)(e.data),[a]);return Object(i.a)(Object(i.a)({},e),{},{data:n});case"DELETE_NODE":return Object(i.a)(Object(i.a)({},e),{},{data:w(t.payload,Object(o.a)(e.data))});case"CUT_NODE":return Object(i.a)(Object(i.a)({},e),{},{cut:t.payload});case"COPY_NODE":return Object(i.a)(Object(i.a)({},e),{},{copy:t.payload});case"PASTE_NODE":var c,r=Object(o.a)(e.data).filter((function(t){return t.id===e.cut}))[0],l=Object(o.a)(e.data).filter((function(t){return t.id===e.copy}))[0];c=e.cut?Object(i.a)(Object(i.a)({},r),{},{parent:t.payload}):Object(i.a)(Object(i.a)({},l),{},{parent:t.payload});var s=Object(o.a)(e.data).filter((function(t){return t.id!==e.cut}));return s=e.cut?[].concat(Object(o.a)(s),[c]):[].concat(Object(o.a)(e.data),[c]),Object(i.a)(Object(i.a)({},e),{},{data:s});case"CREATE_ATTRIBUTE":var u=Object(o.a)(e.data).filter((function(e){return e.id===t.payload.id}))[0],d=Object(o.a)(e.data).filter((function(e){return e.id!==t.payload.id}));return u=Object(i.a)(Object(i.a)({},u),{},{attributes:[].concat(Object(o.a)(u.attributes),[Object(p.a)({},t.payload.name,t.payload.value)])}),Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(o.a)(d),[u])});case"CREATE_ROOT":return Object(i.a)(Object(i.a)({},e),{},{data:[{id:0,parent:null,attributes:[{name:"Root element"}]}]});case"DELETE_ATTRIBUTE":var m=Object(o.a)(e.data).filter((function(e){return e.id===t.payload.id}))[0],b=m.attributes.filter((function(e){return Object.keys(e)[0]!==t.payload.key}));m=Object(i.a)(Object(i.a)({},m),{},{attributes:b});var E=Object(o.a)(e.data).filter((function(e){return e.id!==t.payload.id}));return Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(o.a)(E),[m])});case"EDIT_ATTRIBUTES":var f=Object(o.a)(e.data).filter((function(e){return e.id===t.payload.id}))[0],O=e.data.findIndex((function(e){return e===f}));return f=Object(i.a)(Object(i.a)({},f),{},{attributes:t.payload.attributes}),Object(i.a)(Object(i.a)({},e.slice),{},{data:[].concat(Object(o.a)(e.data.slice(0,O)),[f],Object(o.a)(e.data.slice(O+1)))});default:return e}},T=Object(k.b)(M);l.a.render(c.a.createElement(g.a,{store:T},c.a.createElement(h,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.b01336ff.chunk.js.map